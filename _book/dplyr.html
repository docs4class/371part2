<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 2 DPLYR | BADM 371 Intro to Data Analytics</title>
<meta name="author" content="BADM 371">
<meta name="description" content="2.1 Introduction For more help PLEASE check out Introduction to dplyr introducing the key functionality of the dplyr package. Your life is about to change. For the better, even.   2.2 A Neat...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 2 DPLYR | BADM 371 Intro to Data Analytics">
<meta property="og:type" content="book">
<meta property="og:description" content="2.1 Introduction For more help PLEASE check out Introduction to dplyr introducing the key functionality of the dplyr package. Your life is about to change. For the better, even.   2.2 A Neat...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 2 DPLYR | BADM 371 Intro to Data Analytics">
<meta name="twitter:description" content="2.1 Introduction For more help PLEASE check out Introduction to dplyr introducing the key functionality of the dplyr package. Your life is about to change. For the better, even.   2.2 A Neat...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">BADM 371 Intro to Data Analytics</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="active" href="dplyr.html"><span class="header-section-number">2</span> DPLYR</a></li>
<li><a class="" href="grouping-and-counting-summarise-tally-count-group_size-n_groups-ungroup.html"><span class="header-section-number">3</span> Grouping and counting: summarise, tally, count, group_size, n_groups, ungroup</a></li>
<li><a class="" href="creating-data-frames-data_frame.html"><span class="header-section-number">4</span> Creating data frames: data_frame</a></li>
<li><a class="" href="joining-merging-tables-left_join-right_join-inner_join-full_join-semi_join-anti_join.html"><span class="header-section-number">5</span> Joining (merging) tables: left_join, right_join, inner_join, full_join, semi_join, anti_join</a></li>
<li><a class="" href="viewing-more-output-print-view.html"><span class="header-section-number">6</span> Viewing more output: print, View</a></li>
<li><a class="" href="dplyr-excercies.html"><span class="header-section-number">7</span> DPLYR Excercies</a></li>
<li><a class="" href="more-dplyr.html"><span class="header-section-number">8</span> More DPLYR</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/rstudio/bookdown-demo">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="dplyr" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> DPLYR<a class="anchor" aria-label="anchor" href="#dplyr"><i class="fas fa-link"></i></a>
</h1>
<div id="introduction-1" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction-1"><i class="fas fa-link"></i></a>
</h2>
<p>For more help <strong>PLEASE</strong> check out <a href="https://dplyr.tidyverse.org/articles/dplyr.html">Introduction to dplyr</a> introducing the key functionality of the dplyr package.</p>
<blockquote>
<p>Your life is about to change. For the better, even.</p>
</blockquote>
</div>
<div id="a-neat-resource" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> A Neat Resource<a class="anchor" aria-label="anchor" href="#a-neat-resource"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>
<a href="http://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf">RStudio’s Data Wrangling Cheat Sheet</a> for dplyr and tidyr</li>
</ul>
</div>
<div id="single-table-verbs" class="section level2" number="2.3">
<h2>
<span class="header-section-number">2.3</span> Single table verbs<a class="anchor" aria-label="anchor" href="#single-table-verbs"><i class="fas fa-link"></i></a>
</h2>
<p><code>dplyr</code> aims to provide a function for each basic verb of data manipulation. These verbs can be organised into three categories based on the component of the dataset that they work with:</p>
<p>Rows:</p>
<ul>
<li>
<code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code> chooses rows based on column values.</li>
<li>
<code><a href="https://dplyr.tidyverse.org/reference/slice.html">slice()</a></code> chooses rows based on location.</li>
<li>
<code><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange()</a></code> changes the order of the rows.</li>
</ul>
<p>Columns:</p>
<ul>
<li>
<code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> changes whether or not a column is included.</li>
<li>
<code><a href="https://dplyr.tidyverse.org/reference/rename.html">rename()</a></code> changes the name of columns.
<code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> changes the values of columns and creates new columns.</li>
<li>
<code><a href="https://dplyr.tidyverse.org/reference/relocate.html">relocate()</a></code> changes the order of the columns.
Groups of rows:</li>
<li>
<code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code> collapses a group into a single row. It’s not that useful until we learn the <code><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by()</a></code> verb below.</li>
</ul>
</div>
<div id="the-pipe" class="section level2" number="2.4">
<h2>
<span class="header-section-number">2.4</span> The pipe<a class="anchor" aria-label="anchor" href="#the-pipe"><i class="fas fa-link"></i></a>
</h2>
<p>All of the <code>dplyr</code> functions take a data frame (or tibble) as the first argument. Rather than forcing the user to either save intermediate objects or nest functions, dplyr provides the <code>%&gt;%</code> operator from magrittr. x %&gt;% f(y) turns into f(x, y) so the result from one step is then “piped” into the next step. You can use the pipe to rewrite multiple operations that you can read left-to-right, top-to-bottom (reading the pipe operator as “then”).</p>
</div>
<div id="loading-dplyr-and-the-nycflights13-dataset" class="section level2" number="2.5">
<h2>
<span class="header-section-number">2.5</span> Loading dplyr and the nycflights13 dataset<a class="anchor" aria-label="anchor" href="#loading-dplyr-and-the-nycflights13-dataset"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># load packages</span>
<span class="fu"><a href="https://rdrr.io/r/base/message.html">suppressMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hadley/nycflights13">nycflights13</a></span><span class="op">)</span>

<span class="co"># print the flights dataset from nycflights13</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">flights</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6 x 19</span>
<span class="co">#&gt;    year month   day dep_time sched_dep_time dep_delay</span>
<span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt; 1  2013     1     1      517            515         2</span>
<span class="co">#&gt; 2  2013     1     1      533            529         4</span>
<span class="co">#&gt; 3  2013     1     1      542            540         2</span>
<span class="co">#&gt; 4  2013     1     1      544            545        -1</span>
<span class="co">#&gt; 5  2013     1     1      554            600        -6</span>
<span class="co">#&gt; 6  2013     1     1      554            558        -4</span>
<span class="co">#&gt; # ... with 13 more variables: arr_time &lt;int&gt;,</span>
<span class="co">#&gt; #   sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,</span>
<span class="co">#&gt; #   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,</span>
<span class="co">#&gt; #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,</span>
<span class="co">#&gt; #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</span></code></pre></div>
</div>
<div id="choosing-columns-select-rename" class="section level2" number="2.6">
<h2>
<span class="header-section-number">2.6</span> Choosing columns: select, rename<a class="anchor" aria-label="anchor" href="#choosing-columns-select-rename"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># besides just using select() to pick columns...</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">carrier</span>, <span class="va">flight</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 336,776 x 2</span>
<span class="co">#&gt;    carrier flight</span>
<span class="co">#&gt;    &lt;chr&gt;    &lt;int&gt;</span>
<span class="co">#&gt;  1 UA        1545</span>
<span class="co">#&gt;  2 UA        1714</span>
<span class="co">#&gt;  3 AA        1141</span>
<span class="co">#&gt;  4 B6         725</span>
<span class="co">#&gt;  5 DL         461</span>
<span class="co">#&gt;  6 UA        1696</span>
<span class="co">#&gt;  7 B6         507</span>
<span class="co">#&gt;  8 EV        5708</span>
<span class="co">#&gt;  9 B6          79</span>
<span class="co">#&gt; 10 AA         301</span>
<span class="co">#&gt; # ... with 336,766 more rows</span>

<span class="co"># ...you can use the minus sign to hide columns</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">month</span>, <span class="op">-</span><span class="va">day</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 336,776 x 17</span>
<span class="co">#&gt;     year dep_time sched_dep_time dep_delay arr_time</span>
<span class="co">#&gt;    &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;</span>
<span class="co">#&gt;  1  2013      517            515         2      830</span>
<span class="co">#&gt;  2  2013      533            529         4      850</span>
<span class="co">#&gt;  3  2013      542            540         2      923</span>
<span class="co">#&gt;  4  2013      544            545        -1     1004</span>
<span class="co">#&gt;  5  2013      554            600        -6      812</span>
<span class="co">#&gt;  6  2013      554            558        -4      740</span>
<span class="co">#&gt;  7  2013      555            600        -5      913</span>
<span class="co">#&gt;  8  2013      557            600        -3      709</span>
<span class="co">#&gt;  9  2013      557            600        -3      838</span>
<span class="co">#&gt; 10  2013      558            600        -2      753</span>
<span class="co">#&gt; # ... with 336,766 more rows, and 12 more variables:</span>
<span class="co">#&gt; #   sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,</span>
<span class="co">#&gt; #   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,</span>
<span class="co">#&gt; #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,</span>
<span class="co">#&gt; #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># hide a range of columns</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="op">(</span><span class="va">dep_time</span><span class="op">:</span><span class="va">arr_delay</span><span class="op">)</span><span class="op">)</span>

<span class="co"># hide any column with a matching name</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">contains</a></span><span class="op">(</span><span class="st">"time"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># pick columns using a character vector of column names</span>
<span class="va">cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"carrier"</span>, <span class="st">"flight"</span>, <span class="st">"tailnum"</span><span class="op">)</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/one_of.html">one_of</a></span><span class="op">(</span><span class="va">cols</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 336,776 x 3</span>
<span class="co">#&gt;    carrier flight tailnum</span>
<span class="co">#&gt;    &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;  </span>
<span class="co">#&gt;  1 UA        1545 N14228 </span>
<span class="co">#&gt;  2 UA        1714 N24211 </span>
<span class="co">#&gt;  3 AA        1141 N619AA </span>
<span class="co">#&gt;  4 B6         725 N804JB </span>
<span class="co">#&gt;  5 DL         461 N668DN </span>
<span class="co">#&gt;  6 UA        1696 N39463 </span>
<span class="co">#&gt;  7 B6         507 N516JB </span>
<span class="co">#&gt;  8 EV        5708 N829AS </span>
<span class="co">#&gt;  9 B6          79 N593JB </span>
<span class="co">#&gt; 10 AA         301 N3ALAA </span>
<span class="co">#&gt; # ... with 336,766 more rows</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># select() can be used to rename columns, though all columns not mentioned are dropped</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span>tail <span class="op">=</span> <span class="va">tailnum</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 336,776 x 1</span>
<span class="co">#&gt;    tail  </span>
<span class="co">#&gt;    &lt;chr&gt; </span>
<span class="co">#&gt;  1 N14228</span>
<span class="co">#&gt;  2 N24211</span>
<span class="co">#&gt;  3 N619AA</span>
<span class="co">#&gt;  4 N804JB</span>
<span class="co">#&gt;  5 N668DN</span>
<span class="co">#&gt;  6 N39463</span>
<span class="co">#&gt;  7 N516JB</span>
<span class="co">#&gt;  8 N829AS</span>
<span class="co">#&gt;  9 N593JB</span>
<span class="co">#&gt; 10 N3ALAA</span>
<span class="co">#&gt; # ... with 336,766 more rows</span>

<span class="co"># rename() does the same thing, except all columns not mentioned are kept</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>tail <span class="op">=</span> <span class="va">tailnum</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 336,776 x 19</span>
<span class="co">#&gt;     year month   day dep_time sched_dep_time dep_delay</span>
<span class="co">#&gt;    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1  2013     1     1      517            515         2</span>
<span class="co">#&gt;  2  2013     1     1      533            529         4</span>
<span class="co">#&gt;  3  2013     1     1      542            540         2</span>
<span class="co">#&gt;  4  2013     1     1      544            545        -1</span>
<span class="co">#&gt;  5  2013     1     1      554            600        -6</span>
<span class="co">#&gt;  6  2013     1     1      554            558        -4</span>
<span class="co">#&gt;  7  2013     1     1      555            600        -5</span>
<span class="co">#&gt;  8  2013     1     1      557            600        -3</span>
<span class="co">#&gt;  9  2013     1     1      557            600        -3</span>
<span class="co">#&gt; 10  2013     1     1      558            600        -2</span>
<span class="co">#&gt; # ... with 336,766 more rows, and 13 more variables:</span>
<span class="co">#&gt; #   arr_time &lt;int&gt;, sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;,</span>
<span class="co">#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tail &lt;chr&gt;, origin &lt;chr&gt;,</span>
<span class="co">#&gt; #   dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,</span>
<span class="co">#&gt; #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</span></code></pre></div>
</div>
<div id="choosing-rows-filter-between-slice-sample_n-top_n-distinct" class="section level2" number="2.7">
<h2>
<span class="header-section-number">2.7</span> Choosing rows: filter, between, slice, sample_n, top_n, distinct<a class="anchor" aria-label="anchor" href="#choosing-rows-filter-between-slice-sample_n-top_n-distinct"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># filter() supports the use of multiple conditions</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">dep_time</span> <span class="op">&gt;=</span> <span class="fl">600</span>, <span class="va">dep_time</span> <span class="op">&lt;=</span> <span class="fl">605</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 2,460 x 19</span>
<span class="co">#&gt;     year month   day dep_time sched_dep_time dep_delay</span>
<span class="co">#&gt;    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1  2013     1     1      600            600         0</span>
<span class="co">#&gt;  2  2013     1     1      600            600         0</span>
<span class="co">#&gt;  3  2013     1     1      601            600         1</span>
<span class="co">#&gt;  4  2013     1     1      602            610        -8</span>
<span class="co">#&gt;  5  2013     1     1      602            605        -3</span>
<span class="co">#&gt;  6  2013     1     2      600            600         0</span>
<span class="co">#&gt;  7  2013     1     2      600            605        -5</span>
<span class="co">#&gt;  8  2013     1     2      600            600         0</span>
<span class="co">#&gt;  9  2013     1     2      600            600         0</span>
<span class="co">#&gt; 10  2013     1     2      600            600         0</span>
<span class="co">#&gt; # ... with 2,450 more rows, and 13 more variables:</span>
<span class="co">#&gt; #   arr_time &lt;int&gt;, sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;,</span>
<span class="co">#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,</span>
<span class="co">#&gt; #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,</span>
<span class="co">#&gt; #   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;,</span>
<span class="co">#&gt; #   time_hour &lt;dttm&gt;</span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># between() is a concise alternative for determing if numeric values fall in a range</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/between.html">between</a></span><span class="op">(</span><span class="va">dep_time</span>, <span class="fl">600</span>, <span class="fl">605</span><span class="op">)</span><span class="op">)</span>

<span class="co"># side note: is.na() can also be useful when filtering</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">dep_time</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># slice() filters rows by position</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span><span class="op">(</span><span class="fl">1000</span><span class="op">:</span><span class="fl">1005</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6 x 19</span>
<span class="co">#&gt;    year month   day dep_time sched_dep_time dep_delay</span>
<span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt; 1  2013     1     2      809            810        -1</span>
<span class="co">#&gt; 2  2013     1     2      810            800        10</span>
<span class="co">#&gt; 3  2013     1     2      811            815        -4</span>
<span class="co">#&gt; 4  2013     1     2      811            815        -4</span>
<span class="co">#&gt; 5  2013     1     2      811            820        -9</span>
<span class="co">#&gt; 6  2013     1     2      815            815         0</span>
<span class="co">#&gt; # ... with 13 more variables: arr_time &lt;int&gt;,</span>
<span class="co">#&gt; #   sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,</span>
<span class="co">#&gt; #   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,</span>
<span class="co">#&gt; #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,</span>
<span class="co">#&gt; #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</span>

<span class="co"># keep the first three rows within each group</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">month</span>, <span class="va">day</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1,095 x 19</span>
<span class="co">#&gt; # Groups:   month, day [365]</span>
<span class="co">#&gt;     year month   day dep_time sched_dep_time dep_delay</span>
<span class="co">#&gt;    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1  2013     1     1      517            515         2</span>
<span class="co">#&gt;  2  2013     1     1      533            529         4</span>
<span class="co">#&gt;  3  2013     1     1      542            540         2</span>
<span class="co">#&gt;  4  2013     1     2       42           2359        43</span>
<span class="co">#&gt;  5  2013     1     2      126           2250       156</span>
<span class="co">#&gt;  6  2013     1     2      458            500        -2</span>
<span class="co">#&gt;  7  2013     1     3       32           2359        33</span>
<span class="co">#&gt;  8  2013     1     3       50           2145       185</span>
<span class="co">#&gt;  9  2013     1     3      235           2359       156</span>
<span class="co">#&gt; 10  2013     1     4       25           2359        26</span>
<span class="co">#&gt; # ... with 1,085 more rows, and 13 more variables:</span>
<span class="co">#&gt; #   arr_time &lt;int&gt;, sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;,</span>
<span class="co">#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,</span>
<span class="co">#&gt; #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,</span>
<span class="co">#&gt; #   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;,</span>
<span class="co">#&gt; #   time_hour &lt;dttm&gt;</span>

<span class="co"># sample three rows from each group</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">month</span>, <span class="va">day</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html">sample_n</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1,095 x 19</span>
<span class="co">#&gt; # Groups:   month, day [365]</span>
<span class="co">#&gt;     year month   day dep_time sched_dep_time dep_delay</span>
<span class="co">#&gt;    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1  2013     1     1      533            529         4</span>
<span class="co">#&gt;  2  2013     1     1     1556           1600        -4</span>
<span class="co">#&gt;  3  2013     1     1     1558           1359       119</span>
<span class="co">#&gt;  4  2013     1     2     1500           1430        30</span>
<span class="co">#&gt;  5  2013     1     2     1343           1345        -2</span>
<span class="co">#&gt;  6  2013     1     2     1657           1700        -3</span>
<span class="co">#&gt;  7  2013     1     3     1530           1530         0</span>
<span class="co">#&gt;  8  2013     1     3     1545           1540         5</span>
<span class="co">#&gt;  9  2013     1     3     1500           1355        65</span>
<span class="co">#&gt; 10  2013     1     4      554            600        -6</span>
<span class="co">#&gt; # ... with 1,085 more rows, and 13 more variables:</span>
<span class="co">#&gt; #   arr_time &lt;int&gt;, sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;,</span>
<span class="co">#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,</span>
<span class="co">#&gt; #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,</span>
<span class="co">#&gt; #   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;,</span>
<span class="co">#&gt; #   time_hour &lt;dttm&gt;</span>

<span class="co"># keep three rows from each group with the top dep_delay</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">month</span>, <span class="va">day</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/top_n.html">top_n</a></span><span class="op">(</span><span class="fl">3</span>, <span class="va">dep_delay</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1,108 x 19</span>
<span class="co">#&gt; # Groups:   month, day [365]</span>
<span class="co">#&gt;     year month   day dep_time sched_dep_time dep_delay</span>
<span class="co">#&gt;    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1  2013     1     1      848           1835       853</span>
<span class="co">#&gt;  2  2013     1     1     1815           1325       290</span>
<span class="co">#&gt;  3  2013     1     1     2343           1724       379</span>
<span class="co">#&gt;  4  2013     1     2     1412            838       334</span>
<span class="co">#&gt;  5  2013     1     2     1607           1030       337</span>
<span class="co">#&gt;  6  2013     1     2     2131           1512       379</span>
<span class="co">#&gt;  7  2013     1     3     2008           1540       268</span>
<span class="co">#&gt;  8  2013     1     3     2012           1600       252</span>
<span class="co">#&gt;  9  2013     1     3     2056           1605       291</span>
<span class="co">#&gt; 10  2013     1     4     2058           1730       208</span>
<span class="co">#&gt; # ... with 1,098 more rows, and 13 more variables:</span>
<span class="co">#&gt; #   arr_time &lt;int&gt;, sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;,</span>
<span class="co">#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,</span>
<span class="co">#&gt; #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,</span>
<span class="co">#&gt; #   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;,</span>
<span class="co">#&gt; #   time_hour &lt;dttm&gt;</span>

<span class="co"># also sort by dep_delay within each group</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">month</span>, <span class="va">day</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/top_n.html">top_n</a></span><span class="op">(</span><span class="fl">3</span>, <span class="va">dep_delay</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">dep_delay</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1,108 x 19</span>
<span class="co">#&gt; # Groups:   month, day [365]</span>
<span class="co">#&gt;     year month   day dep_time sched_dep_time dep_delay</span>
<span class="co">#&gt;    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1  2013     1     9      641            900      1301</span>
<span class="co">#&gt;  2  2013     6    15     1432           1935      1137</span>
<span class="co">#&gt;  3  2013     1    10     1121           1635      1126</span>
<span class="co">#&gt;  4  2013     9    20     1139           1845      1014</span>
<span class="co">#&gt;  5  2013     7    22      845           1600      1005</span>
<span class="co">#&gt;  6  2013     4    10     1100           1900       960</span>
<span class="co">#&gt;  7  2013     3    17     2321            810       911</span>
<span class="co">#&gt;  8  2013     6    27      959           1900       899</span>
<span class="co">#&gt;  9  2013     7    22     2257            759       898</span>
<span class="co">#&gt; 10  2013    12     5      756           1700       896</span>
<span class="co">#&gt; # ... with 1,098 more rows, and 13 more variables:</span>
<span class="co">#&gt; #   arr_time &lt;int&gt;, sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;,</span>
<span class="co">#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,</span>
<span class="co">#&gt; #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,</span>
<span class="co">#&gt; #   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;,</span>
<span class="co">#&gt; #   time_hour &lt;dttm&gt;</span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># unique rows can be identified using unique() from base R</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">origin</span>, <span class="va">dest</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 224 x 2</span>
<span class="co">#&gt;    origin dest </span>
<span class="co">#&gt;    &lt;chr&gt;  &lt;chr&gt;</span>
<span class="co">#&gt;  1 EWR    IAH  </span>
<span class="co">#&gt;  2 LGA    IAH  </span>
<span class="co">#&gt;  3 JFK    MIA  </span>
<span class="co">#&gt;  4 JFK    BQN  </span>
<span class="co">#&gt;  5 LGA    ATL  </span>
<span class="co">#&gt;  6 EWR    ORD  </span>
<span class="co">#&gt;  7 EWR    FLL  </span>
<span class="co">#&gt;  8 LGA    IAD  </span>
<span class="co">#&gt;  9 JFK    MCO  </span>
<span class="co">#&gt; 10 LGA    ORD  </span>
<span class="co">#&gt; # ... with 214 more rows</span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># dplyr provides an alternative that is more "efficient"</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">origin</span>, <span class="va">dest</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># side note: when chaining, you don't have to include the parentheses if there are no arguments</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">origin</span>, <span class="va">dest</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="va">distinct</span></code></pre></div>
</div>
<div id="excercies" class="section level2" number="2.8">
<h2>
<span class="header-section-number">2.8</span> Excercies<a class="anchor" aria-label="anchor" href="#excercies"><i class="fas fa-link"></i></a>
</h2>
<p>Using the nycflights13 dataset and the dplyr package, answer these questions. Some answers are given in square brackets for you to check your answers.</p>
<ol style="list-style-type: decimal">
<li>How many flights in Sept were late departing flights? [7815]</li>
<li>How many flights in Sept were late departing flights that originated at JFK airport? [2649]</li>
<li>How many flights in Sept were late departing flights with an origin of JFK airport and had an destination of anywhere except MIA? [2572]</li>
<li>Which carrier had the most flights in this data set? [UA with 58665]</li>
<li>Which destination had the most flights in this data set? [ORD with 17283]</li>
<li>Which destination had the most flights with departure delays of greater than 60 minutes in this data set? [ORD with 1480]</li>
<li>What was the longest arrival delay in this dataset? [1272]</li>
<li>Which carrier in September had the most late departing flights? [UA with 1559]</li>
<li>Create a variable called total.annoyance which arrival delay plus the departure delay for each flight.</li>
<li>Which carrier with more than 10 flights in September had greatest % late departing flights?</li>
</ol>
</div>
<div id="adding-new-variables-mutate-transmute-add_rownames" class="section level2" number="2.9">
<h2>
<span class="header-section-number">2.9</span> Adding new variables: mutate, transmute, add_rownames<a class="anchor" aria-label="anchor" href="#adding-new-variables-mutate-transmute-add_rownames"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># mutate() creates a new variable (and keeps all existing variables)</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>speed <span class="op">=</span> <span class="va">distance</span><span class="op">/</span><span class="va">air_time</span><span class="op">*</span><span class="fl">60</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 336,776 x 20</span>
<span class="co">#&gt;     year month   day dep_time sched_dep_time dep_delay</span>
<span class="co">#&gt;    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1  2013     1     1      517            515         2</span>
<span class="co">#&gt;  2  2013     1     1      533            529         4</span>
<span class="co">#&gt;  3  2013     1     1      542            540         2</span>
<span class="co">#&gt;  4  2013     1     1      544            545        -1</span>
<span class="co">#&gt;  5  2013     1     1      554            600        -6</span>
<span class="co">#&gt;  6  2013     1     1      554            558        -4</span>
<span class="co">#&gt;  7  2013     1     1      555            600        -5</span>
<span class="co">#&gt;  8  2013     1     1      557            600        -3</span>
<span class="co">#&gt;  9  2013     1     1      557            600        -3</span>
<span class="co">#&gt; 10  2013     1     1      558            600        -2</span>
<span class="co">#&gt; # ... with 336,766 more rows, and 14 more variables:</span>
<span class="co">#&gt; #   arr_time &lt;int&gt;, sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;,</span>
<span class="co">#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,</span>
<span class="co">#&gt; #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,</span>
<span class="co">#&gt; #   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;,</span>
<span class="co">#&gt; #   time_hour &lt;dttm&gt;, speed &lt;dbl&gt;</span>

<span class="co"># transmute() only keeps the new variables</span>
<span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">transmute</a></span><span class="op">(</span>speed <span class="op">=</span> <span class="va">distance</span><span class="op">/</span><span class="va">air_time</span><span class="op">*</span><span class="fl">60</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 336,776 x 1</span>
<span class="co">#&gt;    speed</span>
<span class="co">#&gt;    &lt;dbl&gt;</span>
<span class="co">#&gt;  1  370.</span>
<span class="co">#&gt;  2  374.</span>
<span class="co">#&gt;  3  408.</span>
<span class="co">#&gt;  4  517.</span>
<span class="co">#&gt;  5  394.</span>
<span class="co">#&gt;  6  288.</span>
<span class="co">#&gt;  7  404.</span>
<span class="co">#&gt;  8  259.</span>
<span class="co">#&gt;  9  405.</span>
<span class="co">#&gt; 10  319.</span>
<span class="co">#&gt; # ... with 336,766 more rows</span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># example data frame with row names</span>
<span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;                    mpg cyl disp  hp drat    wt  qsec vs am</span>
<span class="co">#&gt; Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1</span>
<span class="co">#&gt; Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1</span>
<span class="co">#&gt; Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1</span>
<span class="co">#&gt; Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0</span>
<span class="co">#&gt; Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0</span>
<span class="co">#&gt; Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0</span>
<span class="co">#&gt;                   gear carb</span>
<span class="co">#&gt; Mazda RX4            4    4</span>
<span class="co">#&gt; Mazda RX4 Wag        4    4</span>
<span class="co">#&gt; Datsun 710           4    1</span>
<span class="co">#&gt; Hornet 4 Drive       3    1</span>
<span class="co">#&gt; Hornet Sportabout    3    2</span>
<span class="co">#&gt; Valiant              3    1</span>

<span class="co"># add_rownames() turns row names into an explicit variable</span>
<span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/add_rownames.html">add_rownames</a></span><span class="op">(</span><span class="st">"model"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Warning: `add_rownames()` was deprecated in dplyr 1.0.0.</span>
<span class="co">#&gt; Please use `tibble::rownames_to_column()` instead.</span>
<span class="co">#&gt; This warning is displayed once every 8 hours.</span>
<span class="co">#&gt; Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.</span>
<span class="co">#&gt; # A tibble: 6 x 12</span>
<span class="co">#&gt;   model        mpg   cyl  disp    hp  drat    wt  qsec    vs</span>
<span class="co">#&gt;   &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Mazda RX4   21       6   160   110  3.9   2.62  16.5     0</span>
<span class="co">#&gt; 2 Mazda RX4~  21       6   160   110  3.9   2.88  17.0     0</span>
<span class="co">#&gt; 3 Datsun 710  22.8     4   108    93  3.85  2.32  18.6     1</span>
<span class="co">#&gt; 4 Hornet 4 ~  21.4     6   258   110  3.08  3.22  19.4     1</span>
<span class="co">#&gt; 5 Hornet Sp~  18.7     8   360   175  3.15  3.44  17.0     0</span>
<span class="co">#&gt; 6 Valiant     18.1     6   225   105  2.76  3.46  20.2     1</span>
<span class="co">#&gt; # ... with 3 more variables: am &lt;dbl&gt;, gear &lt;dbl&gt;,</span>
<span class="co">#&gt; #   carb &lt;dbl&gt;</span>

<span class="co"># side note: dplyr no longer prints row names (ever) for local data frames</span>
<span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl_df.html">tbl_df</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Warning: `tbl_df()` was deprecated in dplyr 1.0.0.</span>
<span class="co">#&gt; Please use `tibble::as_tibble()` instead.</span>
<span class="co">#&gt; This warning is displayed once every 8 hours.</span>
<span class="co">#&gt; Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.</span>
<span class="co">#&gt; # A tibble: 32 x 11</span>
<span class="co">#&gt;      mpg   cyl  disp    hp  drat    wt  qsec    vs    am</span>
<span class="co">#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1  21       6  160    110  3.9   2.62  16.5     0     1</span>
<span class="co">#&gt;  2  21       6  160    110  3.9   2.88  17.0     0     1</span>
<span class="co">#&gt;  3  22.8     4  108     93  3.85  2.32  18.6     1     1</span>
<span class="co">#&gt;  4  21.4     6  258    110  3.08  3.22  19.4     1     0</span>
<span class="co">#&gt;  5  18.7     8  360    175  3.15  3.44  17.0     0     0</span>
<span class="co">#&gt;  6  18.1     6  225    105  2.76  3.46  20.2     1     0</span>
<span class="co">#&gt;  7  14.3     8  360    245  3.21  3.57  15.8     0     0</span>
<span class="co">#&gt;  8  24.4     4  147.    62  3.69  3.19  20       1     0</span>
<span class="co">#&gt;  9  22.8     4  141.    95  3.92  3.15  22.9     1     0</span>
<span class="co">#&gt; 10  19.2     6  168.   123  3.92  3.44  18.3     1     0</span>
<span class="co">#&gt; # ... with 22 more rows, and 2 more variables: gear &lt;dbl&gt;,</span>
<span class="co">#&gt; #   carb &lt;dbl&gt;</span></code></pre></div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="index.html"><span class="header-section-number">1</span> Introduction</a></div>
<div class="next"><a href="grouping-and-counting-summarise-tally-count-group_size-n_groups-ungroup.html"><span class="header-section-number">3</span> Grouping and counting: summarise, tally, count, group_size, n_groups, ungroup</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#dplyr"><span class="header-section-number">2</span> DPLYR</a></li>
<li><a class="nav-link" href="#introduction-1"><span class="header-section-number">2.1</span> Introduction</a></li>
<li><a class="nav-link" href="#a-neat-resource"><span class="header-section-number">2.2</span> A Neat Resource</a></li>
<li><a class="nav-link" href="#single-table-verbs"><span class="header-section-number">2.3</span> Single table verbs</a></li>
<li><a class="nav-link" href="#the-pipe"><span class="header-section-number">2.4</span> The pipe</a></li>
<li><a class="nav-link" href="#loading-dplyr-and-the-nycflights13-dataset"><span class="header-section-number">2.5</span> Loading dplyr and the nycflights13 dataset</a></li>
<li><a class="nav-link" href="#choosing-columns-select-rename"><span class="header-section-number">2.6</span> Choosing columns: select, rename</a></li>
<li><a class="nav-link" href="#choosing-rows-filter-between-slice-sample_n-top_n-distinct"><span class="header-section-number">2.7</span> Choosing rows: filter, between, slice, sample_n, top_n, distinct</a></li>
<li><a class="nav-link" href="#excercies"><span class="header-section-number">2.8</span> Excercies</a></li>
<li><a class="nav-link" href="#adding-new-variables-mutate-transmute-add_rownames"><span class="header-section-number">2.9</span> Adding new variables: mutate, transmute, add_rownames</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/rstudio/bookdown-demo/blob/master/30-dplyr.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/rstudio/bookdown-demo/edit/master/30-dplyr.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>BADM 371 Intro to Data Analytics</strong>" was written by BADM 371. It was last built on 2022-02-24.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
